<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Categorias - Lista de Tarefas</title>
    <link rel="stylesheet" href="./styles.css" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./categories.css" />
    <style>
      .tasks-container {
        margin-bottom: 20px;
        max-height: 300px;
        overflow-y: auto;
      }
      .editable-content {
        white-space: pre-wrap;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      @media (max-width: 768px) {
        .editable-content {
          font-size: 14px;
        }
      }
      @media (min-width: 769px) {
        .editable-content {
          font-size: 16px;
        }
      }
      .logo-img {
        max-width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <div class="container mt-5">
      <div class="row">
        <div class="col-12 text-center">
          <img class="logo-img img-fluid" src="./tw.png"/>
        </div>
      </div>
      <div class="tasks-container" id="general-tasks">
        <h2>GERAL</h2>
      </div>
      <div class="tasks-container" id="AÇÕES-tasks">
        <h2>AÇÕES</h2>
      </div>
      <div class="tasks-container" id="acoes-content-container">
        <div contenteditable="true" class="editable-content" id="acoes-content">
          AÇÕES DE VENDAS // VENDAS DO DIA e VENDAS TWHITE WAVE<br><br>
          LOCUÇÃO [DIA DA SEMANA] [DIA e MÊS]<br><br>
          Nome locutor 1<br><br>
          PRODUTOS - Rel | Pul | Pel | Game<br>
          VENDEDOR 1 - <br>
          VENDEDOR 2 -<br>
          VENDEDOR 3 -<br><br>
          TOTAL: <br><br>
          Dinheiro Vendedor 1 = <br>
          Dinheiro Vendedor 2 =<br>
          Dinheiro Vendedor 3 =<br><br>
          Pix Vendedor 1 =<br>
          Pix Vendedor 2 =<br><br>
          ---------------------------------------------------------------------------<br><br>
          Nome locutor 2 [se houver]<br><br>
          PRODUTOS - Rel | Pul | Pel | Game<br>
          VENDEDOR 1 - <br>
          VENDEDOR 2 -<br>
          VENDEDOR 3 -<br><br>
          TOTAL: <br><br>
          Dinheiro Vendedor 1 = <br>
          Dinheiro Vendedor 2 =<br>
          Dinheiro Vendedor 3 =<br><br>
          Pix Vendedor 1 =<br>
          Pix Vendedor 2 =<br><br>
          /////////////////////////////////////////////////////////<br><br>
          VENDAS TWHITE WAVE<br><br>
          ESTER = <br>
          SABRINA = <br>
          STEFANI = <br>
          JULIANA = <br><br>
          TOTAL = <br><br>
          /////////////////////////////////////////////////////////<br>
        </div>
        <button id="toggle-animation" class="btn btn-primary mt-3">Pause Animation</button>
      </div>
      <div class="tasks-container" id="MARKETING-tasks">
        <h2>MARKETING</h2>
      </div>
      <div class="tasks-container" id="R.H-tasks">
        <h2>R.H</h2>
      </div>
      <div class="tasks-container" id="LOJA-tasks">
        <h2>LOJA</h2>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./scripts.js"></script>
    <script>
      const tasksFromLocalStorage = JSON.parse(localStorage.getItem("tasks"));

      if (tasksFromLocalStorage) {
        tasksFromLocalStorage.forEach((task) => {
          const taskItemContainer = document.createElement("div");
          taskItemContainer.classList.add("task-item");

          const taskContent = document.createElement("p");
          taskContent.innerText = task.description;

          if (task.isCompleted) {
            taskContent.classList.add("completed");
          }

          const categoryLabel = document.createElement("span");
          categoryLabel.classList.add("task-category");
          categoryLabel.innerText = `[${task.category}] `;

          taskItemContainer.appendChild(categoryLabel);
          taskItemContainer.appendChild(taskContent);

          const categoryContainer = document.getElementById(`${task.category}-tasks`);
          categoryContainer.appendChild(taskItemContainer);

          // Add to general tasks as well
          const generalContainer = document.getElementById("general-tasks");
          generalContainer.appendChild(taskItemContainer.cloneNode(true));
        });
      }

      const toggleButton = document.getElementById("toggle-animation");
      const acoesContent = document.getElementById("acoes-content");
      let isPaused = false;

      toggleButton.addEventListener("click", () => {
        if (isPaused) {
          acoesContent.style.animationPlayState = "running";
          toggleButton.textContent = "Pause Animation";
        } else {
          acoesContent.style.animationPlayState = "paused";
          toggleButton.textContent = "Resume Animation";
        }
        isPaused = !isPaused;
      });
    </script>
  </body>
</html>
