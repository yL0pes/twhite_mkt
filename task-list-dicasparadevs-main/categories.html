<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Categorias - Lista de Tarefas</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Categorias</h1>
      <div class="tasks-container" id="geral-tasks">
        <h2>GERAL</h2>
      </div>
      <div class="tasks-container" id="acoes-tasks">
        <h2>AÇÕES</h2>
      </div>
      <div class="tasks-container" id="marketing-tasks">
        <h2>MARKETING</h2>
      </div>
      <div class="tasks-container" id="rh-tasks">
        <h2>R.H</h2>
      </div>
      <div class="tasks-container" id="loja-tasks">
        <h2>LOJA</h2>
      </div>
    </div>
    <script src="./scripts.js"></script>
    <script>
      const tasksFromLocalStorage = JSON.parse(localStorage.getItem("tasks"));

      if (tasksFromLocalStorage) {
        tasksFromLocalStorage.forEach((task) => {
          const taskItemContainer = document.createElement("div");
          taskItemContainer.classList.add("task-item");

          const taskContent = document.createElement("p");
          taskContent.innerText = task.description;

          if (task.isCompleted) {
            taskContent.classList.add("completed");
          }

          const categoryLabel = document.createElement("span");
          categoryLabel.classList.add("task-category");
          categoryLabel.innerText = `[${task.category}] `;

          taskItemContainer.appendChild(categoryLabel);
          taskItemContainer.appendChild(taskContent);

          const deleteItem = document.createElement("i");
          deleteItem.classList.add("far");
          deleteItem.classList.add("fa-trash-alt");

          taskItemContainer.appendChild(deleteItem);

          const categoryContainer = document.getElementById(`${task.category}-tasks`);
          categoryContainer.appendChild(taskItemContainer);
        });
      }
    </script>
  </body>
</html>
